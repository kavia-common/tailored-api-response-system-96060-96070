{"is_source_file": true, "format": "Python", "description": "This file defines classes for managing in-memory user records, including functionalities for creating, retrieving, authenticating, and updating user data, with password hashing and verification.", "external_files": ["uuid", "hashlib"], "external_methods": ["uuid.uuid4", "hashlib.sha256"], "published": ["UserRecord", "MemoryUserStore"], "classes": [{"name": "UserRecord", "description": "Represents an internal user entity stored in-memory, containing user ID, email, hashed password, and package tier."}, {"name": "MemoryUserStore", "description": "Provides an in-memory store for user data, facilitating user creation, retrieval, authentication, and plan updates."}], "methods": [{"name": "UserRecord.__init__", "description": "Initializes a new user record with email, plain password, and optional package tier; generates a unique ID and hashes the password."}, {"name": "UserRecord._hash_password", "description": "Static method to hash a plaintext password using SHA-256 (not recommended for production)."}, {"name": "UserRecord.verify_password", "description": "Verifies whether a plaintext password matches the stored hashed password."}, {"name": "MemoryUserStore.__init__", "description": "Initializes the in-memory user store with dictionaries for email and ID lookups."}, {"name": "MemoryUserStore.create_user", "description": "Creates a new user, storing it in dictionaries; raises error if email already exists."}, {"name": "MemoryUserStore.get_by_email", "description": "Retrieves a user record by email."}, {"name": "MemoryUserStore.get_by_id", "description": "Retrieves a user record by user ID."}, {"name": "MemoryUserStore.authenticate", "description": "Authenticates a user by email and password; returns user record if valid."}, {"name": "MemoryUserStore.update_plan", "description": "Updates the package tier for a user identified by user ID."}, {"name": "None __init__(self)", "scope": "MemoryUserStore", "scopeKind": "class", "description": "unavailable"}, {"name": "None __init__(self, email: str, password_plain: str, package_tier: str = \"free\")", "scope": "UserRecord", "scopeKind": "class", "description": "unavailable"}, {"name": "str _hash_password(password_plain: str)", "scope": "UserRecord", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[UserRecord] authenticate(self, email: str, password_plain: str)", "scope": "MemoryUserStore", "scopeKind": "class", "description": "unavailable"}, {"name": "UserRecord create_user(self, email: str, password_plain: str, package_tier: str = \"free\")", "scope": "MemoryUserStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[UserRecord] get_by_email(self, email: str)", "scope": "MemoryUserStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[UserRecord] get_by_id(self, user_id: str)", "scope": "MemoryUserStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[UserRecord] update_plan(self, user_id: str, package_tier: str)", "scope": "MemoryUserStore", "scopeKind": "class", "description": "unavailable"}, {"name": "bool verify_password(self, password_plain: str)", "scope": "UserRecord", "scopeKind": "class", "description": "unavailable"}], "calls": ["uuid.uuid4", "hashlib.sha256"], "search-terms": ["MemoryUserStore", "UserRecord", "create_user", "authenticate"], "state": 2, "file_id": 17, "knowledge_revision": 54, "git_revision": "71b54c10ca7a5752fff63fcecd9636b4c7f65873", "revision_history": [{"49": ""}, {"54": "71b54c10ca7a5752fff63fcecd9636b4c7f65873"}], "ctags": [{"_type": "tag", "name": "MemoryUserStore", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^class MemoryUserStore:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserRecord", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^class UserRecord:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "MemoryUserStore", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def __init__(self, email: str, password_plain: str, package_tier: str = \"free\") -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, email: str, password_plain: str, package_tier: str = \"free\")", "scope": "UserRecord", "scopeKind": "class"}, {"_type": "tag", "name": "_hash_password", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def _hash_password(password_plain: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(password_plain: str)", "scope": "UserRecord", "scopeKind": "class"}, {"_type": "tag", "name": "authenticate", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def authenticate(self, email: str, password_plain: str) -> Optional[UserRecord]:$/", "language": "Python", "typeref": "typename:Optional[UserRecord]", "kind": "member", "signature": "(self, email: str, password_plain: str)", "scope": "MemoryUserStore", "scopeKind": "class"}, {"_type": "tag", "name": "create_user", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def create_user(self, email: str, password_plain: str, package_tier: str = \"free\") -> UserRe/", "language": "Python", "typeref": "typename:UserRecord", "kind": "member", "signature": "(self, email: str, password_plain: str, package_tier: str = \"free\")", "scope": "MemoryUserStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_by_email", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def get_by_email(self, email: str) -> Optional[UserRecord]:$/", "language": "Python", "typeref": "typename:Optional[UserRecord]", "kind": "member", "signature": "(self, email: str)", "scope": "MemoryUserStore", "scopeKind": "class"}, {"_type": "tag", "name": "get_by_id", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def get_by_id(self, user_id: str) -> Optional[UserRecord]:$/", "language": "Python", "typeref": "typename:Optional[UserRecord]", "kind": "member", "signature": "(self, user_id: str)", "scope": "MemoryUserStore", "scopeKind": "class"}, {"_type": "tag", "name": "update_plan", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def update_plan(self, user_id: str, package_tier: str) -> Optional[UserRecord]:$/", "language": "Python", "typeref": "typename:Optional[UserRecord]", "kind": "member", "signature": "(self, user_id: str, package_tier: str)", "scope": "MemoryUserStore", "scopeKind": "class"}, {"_type": "tag", "name": "verify_password", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/storage.py", "pattern": "/^    def verify_password(self, password_plain: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, password_plain: str)", "scope": "UserRecord", "scopeKind": "class"}], "hash": "a27ddd13c2e7f6032ff18b756c568c9f", "format-version": 4, "code-base-name": "backend", "filename": "backend/app/storage.py"}