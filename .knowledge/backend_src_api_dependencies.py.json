{"is_source_file": true, "format": "Python", "description": "This file defines dependency injection functions for FastAPI API endpoints, specifically to retrieve the current authenticated user based on OAuth2 token validation. It uses external modules for authentication decoding, database access, and data models. It primarily provides a 'get_current_user' function as part of the API's dependency injection system.", "external_files": ["./auth", "./storage", "./models"], "external_methods": ["decode_token", "db.get_user_by_id"], "published": ["get_current_user"], "classes": [], "methods": [{"name": "UserPublic get_current_user(token: Annotated[str, Depends(oauth2_scheme)])", "description": "Retrieves and returns the currently authenticated user's info based on the provided OAuth2 token, raising an HTTP 401 error if the token is invalid or the user is not found.", "scope": "", "scopeKind": ""}], "calls": ["decode_token", "db.get_user_by_id", "HTTPException", "status.HTTP_401_UNAUTHORIZED"], "search-terms": ["get_current_user", "OAuth2PasswordBearer", "decode_token", "db.get_user_by_id", "FastAPI dependencies"], "state": 2, "file_id": 8, "knowledge_revision": 29, "git_revision": "7c048295b84cf3359757de84ffbea0726b4b6c3a", "ctags": [{"_type": "tag", "name": "get_current_user", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/dependencies.py", "pattern": "/^def get_current_user(token: Annotated[str, Depends(oauth2_scheme)]) -> UserPublic:$/", "language": "Python", "typeref": "typename:UserPublic", "kind": "function", "signature": "(token: Annotated[str, Depends(oauth2_scheme)])"}, {"_type": "tag", "name": "oauth2_scheme", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/dependencies.py", "pattern": "/^oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"\\/auth\\/login\")$/", "language": "Python", "kind": "variable"}], "hash": "200e0e4a0fc8e9c3634aa3aef31b9dfd", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/dependencies.py", "fields": [{"name": "oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"\\/auth\\/login\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"29": "7c048295b84cf3359757de84ffbea0726b4b6c3a"}]}