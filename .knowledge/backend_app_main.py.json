{"is_source_file": true, "format": "Python", "description": "Main FastAPI application setup for a mock backend API, including route definitions, CORS configuration, health check, authentication, dashboard, and account management endpoints.", "external_files": ["./schemas", "./storage", "./security"], "external_methods": ["create_access_token", "get_current_user", "store_singleton"], "published": ["health_check", "signup", "login", "me", "get_content", "get_plan", "update_plan"], "classes": [{"name": "_PlanUpdateResponse", "description": "Internal response model for plan updates"}], "methods": [{"name": "List[str] _parse_cors_origins()", "description": "Parses the allowed CORS origins from environment variables.", "scope": "", "scopeKind": ""}, {"name": "List[DashboardFeature] _features_for_tier(tier: str)", "description": "Returns dashboard features based on user package tier.", "scope": "", "scopeKind": ""}, {"name": "UserPublic _public_user(user: UserRecord)", "description": "Converts internal UserRecord to public user data.", "scope": "", "scopeKind": ""}, {"name": "get_content(current_user: UserRecord = Depends(get_current_user))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_plan(current_user: UserRecord = Depends(get_current_user))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "login( form_data: OAuth2PasswordRequestForm = Depends(), email: Optional[str] = Form( default=None, description=( \"Email for account login when using form-encoded payloads \" \"(alias of 'username').\" ), ), password: Optional[str] = Form( default=None, description=\"Password for account login when using form-encoded payloads.\", ), store: MemoryUserStore = Depends(lambda: store_singleton), )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "me(current_user: UserRecord = Depends(get_current_user))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "signup(payload: SignupRequest, store: MemoryUserStore = Depends(lambda: store_singleton))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "update_plan( payload: PlanUpdateRequest, current_user: UserRecord = Depends(get_current_user), store: MemoryUserStore = Depends(lambda: store_singleton), )", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["os.environ.get", "app.add_middleware", "create_access_token", "get_current_user", "store_singleton"], "search-terms": ["FastAPI app setup", "JWT token", "CORS configuration", "user signup", "dashboard endpoint", "tailored API", "account plan", "mock backend"], "state": 2, "file_id": 18, "knowledge_revision": 55, "git_revision": "71b54c10ca7a5752fff63fcecd9636b4c7f65873", "revision_history": [{"51": ""}, {"55": "71b54c10ca7a5752fff63fcecd9636b4c7f65873"}], "ctags": [{"_type": "tag", "name": "APP_NAME", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^APP_NAME = os.environ.get(\"APP_NAME\", \"TATA ELXSI MOCK API\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_PlanUpdateResponse", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^class _PlanUpdateResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_features_for_tier", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def _features_for_tier(tier: str) -> List[DashboardFeature]:$/", "language": "Python", "typeref": "typename:List[DashboardFeature]", "kind": "function", "signature": "(tier: str)"}, {"_type": "tag", "name": "_parse_cors_origins", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def _parse_cors_origins() -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_public_user", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def _public_user(user: UserRecord) -> UserPublic:$/", "language": "Python", "typeref": "typename:UserPublic", "kind": "function", "signature": "(user: UserRecord)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_content", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def get_content(current_user: UserRecord = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(current_user: UserRecord = Depends(get_current_user))"}, {"_type": "tag", "name": "get_plan", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def get_plan(current_user: UserRecord = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(current_user: UserRecord = Depends(get_current_user))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def login($/", "language": "Python", "kind": "function", "signature": "( form_data: OAuth2PasswordRequestForm = Depends(), email: Optional[str] = Form( default=None, description=( \"Email for account login when using form-encoded payloads \" \"(alias of 'username').\" ), ), password: Optional[str] = Form( default=None, description=\"Password for account login when using form-encoded payloads.\", ), store: MemoryUserStore = Depends(lambda: store_singleton), )"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def me(current_user: UserRecord = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(current_user: UserRecord = Depends(get_current_user))"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def signup(payload: SignupRequest, store: MemoryUserStore = Depends(lambda: store_singleton)):$/", "language": "Python", "kind": "function", "signature": "(payload: SignupRequest, store: MemoryUserStore = Depends(lambda: store_singleton))"}, {"_type": "tag", "name": "update_plan", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/app/main.py", "pattern": "/^def update_plan($/", "language": "Python", "kind": "function", "signature": "( payload: PlanUpdateRequest, current_user: UserRecord = Depends(get_current_user), store: MemoryUserStore = Depends(lambda: store_singleton), )"}], "hash": "3625dffa024230aeb741db2fb285cc16", "format-version": 4, "code-base-name": "backend", "filename": "backend/app/main.py", "fields": [{"name": "APP_NAME = os.environ.get(\"APP_NAME\", \"TATA ELXSI MOCK API\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}