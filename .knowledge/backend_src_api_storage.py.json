{"is_source_file": true, "format": "Python", "description": "This file implements an in-memory user storage system with support for user creation, retrieval, password verification, and package tier management. It uses hashing for password security and maintains internal indices for efficient lookups.", "external_files": ["./models.py"], "external_methods": [], "published": ["db"], "classes": [{"name": "InMemoryDB", "description": "A simple in-memory data store class handling user data and operations."}], "methods": [{"name": "Dict[str,Any] create_user(self, email: str, password: str, package_tier: PackageTier)", "description": "Creates a new user record with salted password hashing and stores it internally.", "scope": "InMemoryDB", "scopeKind": "class"}, {"name": "Optional[Dict[str,Any]] get_user_by_email(self, email: str)", "description": "Retrieves user information based on email address.", "scope": "InMemoryDB", "scopeKind": "class"}, {"name": "Optional[Dict[str,Any]] get_user_by_id(self, user_id: str)", "description": "Retrieves user information based on user ID.", "scope": "InMemoryDB", "scopeKind": "class"}, {"name": "Optional[Dict[str,Any]] verify_password(self, email: str, password: str)", "description": "Verifies the user's password against stored hash; returns user record if successful.", "scope": "InMemoryDB", "scopeKind": "class"}, {"name": "Optional[Dict[str,Any]] set_package(self, user_id: str, package_tier: PackageTier)", "description": "Updates a user's package tier.", "scope": "InMemoryDB", "scopeKind": "class"}, {"name": "None __init__(self)", "scope": "InMemoryDB", "scopeKind": "class", "description": "unavailable"}, {"name": "str _hash_password(password: str, salt: bytes)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["os.urandom", "uuid.uuid4", "_hash_password", "hmac.compare_digest"], "search-terms": ["InMemoryDB", "password hashing", "user storage", "PackageTier", "user creation"], "state": 2, "file_id": 6, "knowledge_revision": 13, "git_revision": "", "ctags": [{"_type": "tag", "name": "InMemoryDB", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^class InMemoryDB:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "InMemoryDB", "scopeKind": "class"}, {"_type": "tag", "name": "_hash_password", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^def _hash_password(password: str, salt: bytes) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(password: str, salt: bytes)"}, {"_type": "tag", "name": "create_user", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^    def create_user(self, email: str, password: str, package_tier: PackageTier) -> Dict[str, Any/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, email: str, password: str, package_tier: PackageTier)", "scope": "InMemoryDB", "scopeKind": "class"}, {"_type": "tag", "name": "db", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^db = InMemoryDB()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_user_by_email", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^    def get_user_by_email(self, email: str) -> Optional[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,Any]]", "kind": "member", "signature": "(self, email: str)", "scope": "InMemoryDB", "scopeKind": "class"}, {"_type": "tag", "name": "get_user_by_id", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^    def get_user_by_id(self, user_id: str) -> Optional[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,Any]]", "kind": "member", "signature": "(self, user_id: str)", "scope": "InMemoryDB", "scopeKind": "class"}, {"_type": "tag", "name": "set_package", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^    def set_package(self, user_id: str, package_tier: PackageTier) -> Optional[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,Any]]", "kind": "member", "signature": "(self, user_id: str, package_tier: PackageTier)", "scope": "InMemoryDB", "scopeKind": "class"}, {"_type": "tag", "name": "verify_password", "path": "/home/kavia/workspace/code-generation/tailored-api-response-system-96060-96070/backend/src/api/storage.py", "pattern": "/^    def verify_password(self, email: str, password: str) -> Optional[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,Any]]", "kind": "member", "signature": "(self, email: str, password: str)", "scope": "InMemoryDB", "scopeKind": "class"}], "hash": "e634fe8f6e349fa969ac63435af15f36", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/storage.py", "fields": [{"name": "db = InMemoryDB()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"13": ""}]}